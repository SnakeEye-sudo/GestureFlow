<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>ðŸŽ¯ GestureFlow - Real Hand Gesture Detection</title><script defer src="https://cdn.jsdelivr.net/npm/@mediapipe/camera_utils@0.4.1633559926/camera_utils.js"></script><script defer src="https://cdn.jsdelivr.net/npm/@mediapipe/drawing_utils@0.4.1633559926/drawing_utils.js"></script><script defer src="https://cdn.jsdelivr.net/npm/@mediapipe/hands@0.4.1633559926/hands.js"></script><style>*{margin:0;padding:0;box-sizing:border-box}body{font-family:'Segoe UI',Tahoma,Geneva,sans-serif;background:linear-gradient(135deg,#667eea,#764ba2);min-height:100vh;display:flex;flex-direction:column;color:#333}header{background:rgba(0,0,0,0.3);color:white;padding:20px;text-align:center}header h1{font-size:2.5em;margin-bottom:5px}header p{font-size:0.9em;opacity:0.9}.main-container{display:flex;gap:20px;padding:20px;flex:1;max-width:1400px;margin:0 auto;width:100%}#video-container{flex:1;background:white;border-radius:15px;padding:20px;box-shadow:0 10px 30px rgba(0,0,0,0.2);display:flex;flex-direction:column}.canvas-wrapper{position:relative;background:#000;border-radius:10px;overflow:hidden;flex:1;display:flex;align-items:center;justify-content:center;min-height:400px}#canvas{width:100%;height:100%;max-width:100%}.controls{display:flex;gap:10px;margin-top:15px;flex-wrap:wrap}button{background:#667eea;color:white;border:none;padding:12px 24px;border-radius:8px;cursor:pointer;font-weight:bold;transition:all 0.3s}button:hover{background:#764ba2;transform:translateY(-2px)}button.stop{background:#ff6b6b}button.clear{background:#47b881}#stats-panel{flex:1;background:white;border-radius:15px;padding:20px;box-shadow:0 10px 30px rgba(0,0,0,0.2);display:flex;flex-direction:column}.stat-card{background:linear-gradient(135deg,#667eea,#764ba2);color:white;padding:20px;border-radius:10px;margin-bottom:20px;text-align:center}.stat-card-title{font-size:1.2em;margin-bottom:10px;opacity:0.9}.stat-card-value{font-size:2.5em;font-weight:bold}.gesture-list{flex:1;overflow-y:auto;border:1px solid #e0e0e0;border-radius:10px;padding:15px;background:#f9f9f9}.gesture-item{background:white;padding:12px;border-left:4px solid #667eea;margin-bottom:10px;border-radius:5px;display:flex;justify-content:space-between;align-items:center}.gesture-item .name{font-weight:600}.gesture-item .conf{background:#667eea;color:white;padding:4px 12px;border-radius:15px;font-size:0.85em}.status-bar{padding:15px;background:#f5f5f5;border-radius:10px;text-align:center;font-weight:bold;margin-bottom:15px;border-left:4px solid #667eea}@media(max-width:768px){.main-container{flex-direction:column}}</style></head><body><header><h1>ðŸŽ¯ GestureFlow</h1><p>Real-time Hand Gesture Recognition with MediaPipe</p></header><div class="main-container"><div id="video-container"><h2>ðŸ“¹ Live Hand Detection</h2><div class="canvas-wrapper"><canvas id="canvas"></canvas></div><div class="controls"><button id="startBtn" onclick="startDetection()">â–¶ Start Detection</button><button id="stopBtn" onclick="stopDetection()" class="stop" style="display:none">â–  Stop</button><button onclick="clearHistory()" class="clear">ðŸ—‘ Clear History</button></div></div><div id="stats-panel"><div class="status-bar" id="statusBar">âš« Not Started</div><div class="stat-card"><div class="stat-card-titleðŸ—£ Current Gesture</div><div class="stat-card-value" id="currentGesture">-</div><div style="font-size:0.9em;opacity:0.9;margin-top:5px" id="confidence">Confidence: -</div></div><div style="display:grid;grid-template-columns:1fr 1fr;gap:10px;margin-bottom:20px"><div style="background:#f5f5f5;padding:15px;border-radius:10px;text-align:center"><div style="color:#666;font-size:0.9em">Hands Detected</div><div style="font-size:1.8em;font-weight:bold;color:#667eea" id="handCount">0</div></div><div style="background:#f5f5f5;padding:15px;border-radius:10px;text-align:center"><div style="color:#666;font-size:0.9em">Total Detections</div><div style="font-size:1.8em;font-weight:bold;color:#667eea" id="totalDetections">0</div></div></div><h3 style="color:#667eea;margin-bottom:10px">ðŸ“Š Gesture History</h3><div class="gesture-list" id="gestureHistory"><p style="color:#999;text-align:center">No gestures detected yet. Show your hands to the camera!</p></div></div></div><script>const canvas=document.getElementById('canvas'),ctx=canvas.getContext('2d');let camera,hands,isRunning=false,gestureHistory=[],handLandmarks=null;function getGestureFromLandmarks(landmarks){if(!landmarks||landmarks.length===0)return{name:'No Hand',confidence:0};const hand=landmarks[0];const thumbTip=hand[4],indexTip=hand[8],middleTip=hand[12],ringTip=hand[16],pinkyTip=hand[20];const thumbMCP=hand[2],indexMCP=hand[5],middleMCP=hand[9],ringMCP=hand[13],pinkyMCP=hand[17];const wrist=hand[0];const isIndexUp=indexTip.y<indexMCP.y;const isMiddleUp=middleTip.y<middleMCP.y;const isRingUp=ringTip.y<ringMCP.y;const isPinkyUp=pinkyTip.y<pinkyMCP.y;const isThumbUp=thumbTip.y<thumbMCP.y;const upCount=[isIndexUp,isMiddleUp,isRingUp,isPinkyUp].filter(Boolean).length;const indexPinkyDist=Math.hypot(indexTip.x-pinkyTip.x,indexTip.y-pinkyTip.y);const indexMiddleDist=Math.hypot(indexTip.x-middleTip.x,indexTip.y-middleTip.y);const allDown=upCount===0&&isThumbUp;const fist=upCount===0;const peace=(isIndexUp&&isMiddleUp&&!isRingUp&&!isPinkyUp&&isThumbUp);const thumbsUp=(isThumbUp&&!isIndexUp&&!isMiddleUp&&!isRingUp&&!isPinkyUp);const openHand=(isIndexUp&&isMiddleUp&&isRingUp&&isPinkyUp&&isThumbUp);const ok=(isIndexUp&&isMiddleUp&&!isRingUp&&!isPinkyUp&&!isThumbUp)||(!isIndexUp&&!isMiddleUp&&isRingUp&&isPinkyUp&&isThumbUp);const rock=(isIndexUp&&isPinkyUp&&!isMiddleUp&&!isRingUp&&isThumbUp);const three=(isIndexUp&&isMiddleUp&&isRingUp&&!isPinkyUp&&isThumbUp);const l=(isIndexUp&&isThumbUp&&!isMiddleUp&&!isRingUp&&!isPinkyUp);if(thumbsUp)return{name:'Thumbs Up ðŸ‘',confidence:0.95};if(peace)return{name:'Peace âœŒï¸',confidence:0.92};if(fist)return{name:'Fist âœŠ',confidence:0.90};if(openHand)return{name:'Open Hand âœ‹',confidence:0.88};if(rock)return{name:'Rock ðŸ¤˜',confidence:0.85};if(ok)return{name:'OK ðŸ‘Œ',confidence:0.87};if(three)return{name:'Three ðŸ¥‚',confidence:0.83};if(l)return{name:'L-Sign ðŸ¤›',confidence:0.80};return{name:'Hand Pose',confidence:0.75}}async function startDetection(){isRunning=true;document.getElementById('startBtn').style.display='none';document.getElementById('stopBtn').style.display='inline-block';document.getElementById('statusBar').textContent='ðŸŸ¢ Detecting...';hands=new Hands({locateFile:f=>`https://cdn.jsdelivr.net/npm/@mediapipe/hands@0.4.1633559926/${f}`});hands.setOptions({maxNumHands:2,modelComplexity:1,minDetectionConfidence:0.5,minTrackingConfidence:0.5});hands.onResults(onResults);camera=new Camera(canvas,{onFrame:async()=>{if(isRunning)await hands.send({image:canvas})},width:canvas.width,height:canvas.height});await camera.initialize()}function onResults(results){ctx.save();ctx.clearRect(0,0,canvas.width,canvas.height);ctx.drawImage(results.image,0,0,canvas.width,canvas.height);if(results.multiHandLandmarks&&results.multiHandLandmarks.length>0){handLandmarks=results.multiHandLandmarks;document.getElementById('handCount').textContent=results.multiHandLandmarks.length;for(let i=0;i<results.multiHandLandmarks.length;i++){drawConnectors(ctx,results.multiHandLandmarks[i],HAND_CONNECTIONS,{color:'#00FF00',lineWidth:2});drawLandmarks(ctx,results.multiHandLandmarks[i],{color:'#FF0000',lineWidth:1})}const gesture=getGestureFromLandmarks(results.multiHandLandmarks);updateGestureDisplay(gesture)}else{document.getElementById('handCount').textContent='0';document.getElementById('currentGesture').textContent='-';document.getElementById('confidence').textContent='Confidence: -';handLandmarks=null}ctx.restore()}function updateGestureDisplay(gesture){if(!gesture||gesture.name==='No Hand')return;document.getElementById('currentGesture').textContent=gesture.name;document.getElementById('confidence').textContent=`Confidence: ${(gesture.confidence*100).toFixed(0)}%`;const now=new Date();gestureHistory.unshift({name:gesture.name,confidence:gesture.confidence,time:now.toLocaleTimeString()});if(gestureHistory.length>15)gestureHistory.pop();document.getElementById('totalDetections').textContent=gestureHistory.length;updateHistoryDisplay()}function updateHistoryDisplay(){const list=document.getElementById('gestureHistory');if(gestureHistory.length===0){list.innerHTML='<p style="color:#999;text-align:center">No gestures detected yet. Show your hands!</p>';return}list.innerHTML=gestureHistory.map(g=>`<div class="gesture-item"><span class="name">${g.name}</span><div><span class="conf">${(g.confidence*100).toFixed(0)}%</span><span style="font-size:0.85em;color:#999;margin-left:10px">${g.time}</span></div></div>`).join('')}function stopDetection(){isRunning=false;if(camera)camera.stop();document.getElementById('startBtn').style.display='inline-block';document.getElementById('stopBtn').style.display='none';document.getElementById('statusBar').textContent='âš« Stopped';document.getElementById('currentGesture').textContent='-';document.getElementById('confidence').textContent='Confidence: -'}function clearHistory(){gestureHistory=[];document.getElementById('totalDetections').textContent='0';updateHistoryDisplay()}</script></body></html>
